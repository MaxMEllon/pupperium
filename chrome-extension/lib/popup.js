/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/popup.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../node_modules/chrome-extension-async/chrome-extension-async.js":
/*!************************************************************************!*\
  !*** ../node_modules/chrome-extension-async/chrome-extension-async.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/** Wrap an API that uses callbacks with Promises\r\n * This expects the pattern function withCallback(arg1, arg2, ... argN, callback)\r\n * @author Keith Henry <keith.henry@evolutionjobs.co.uk>\r\n * @license MIT */\r\n(function () {\r\n    'use strict';\r\n\r\n    /** Wrap a function with a callback with a Promise.\r\n     * @param {function} f The function to wrap, should be pattern: withCallback(arg1, arg2, ... argN, callback).\r\n     * @param {function} parseCB Optional function to parse multiple callback parameters into a single object.\r\n     * @returns {Promise} Promise that resolves when the callback fires. */\r\n    function promisify(f, parseCB) {\r\n        return (...args) => {\r\n            let safeArgs = args;\r\n            let callback;\r\n            // The Chrome API functions all use arguments, so we can't use f.length to check\r\n\r\n            // If there is a last arg\r\n            if (args && args.length > 0) {\r\n\r\n                // ... and the last arg is a function\r\n                const last = args[args.length - 1];\r\n                if (typeof last === 'function') {\r\n                    // Trim the last callback arg if it's been passed\r\n                    safeArgs = args.slice(0, args.length - 1);\r\n                    callback = last;\r\n                }\r\n            }\r\n\r\n            // Return a promise\r\n            return new Promise((resolve, reject) => {\r\n                try {\r\n                    // Try to run the original function, with the trimmed args list\r\n                    f(...safeArgs, (...cbArgs) => {\r\n\r\n                        // If a callback was passed at the end of the original arguments\r\n                        if (callback) {\r\n                            // Don't allow a bug in the callback to stop the promise resolving\r\n                            try { callback(...cbArgs); }\r\n                            catch (cbErr) { reject(cbErr); }\r\n                        }\r\n\r\n                        // Chrome extensions always fire the callback, but populate chrome.runtime.lastError with exception details\r\n                        if (chrome.runtime.lastError)\r\n                            // Return as an error for the awaited catch block\r\n                            reject(new Error(chrome.runtime.lastError.message || `Error thrown by API ${chrome.runtime.lastError}`));\r\n                        else {\r\n                            if (parseCB) {\r\n                                const cbObj = parseCB(...cbArgs);\r\n                                resolve(cbObj);\r\n                            }\r\n                            else if (!cbArgs || cbArgs.length === 0)\r\n                                resolve();\r\n                            else if (cbArgs.length === 1)\r\n                                resolve(cbArgs[0]);\r\n                            else\r\n                                resolve(cbArgs);\r\n                        }\r\n                    });\r\n                }\r\n                catch (err) { reject(err); }\r\n            });\r\n        }\r\n    }\r\n\r\n    /** Promisify all the known functions in the map \r\n     * @param {object} api The Chrome native API to extend\r\n     * @param {Array} apiMap Collection of sub-API and functions to promisify */\r\n    function applyMap(api, apiMap) {\r\n        if (!api)\r\n            // Not supported by current permissions\r\n            return;\r\n\r\n        for (let funcDef of apiMap) {\r\n            let funcName;\r\n            if (typeof funcDef === 'string')\r\n                funcName = funcDef;\r\n            else {\r\n                funcName = funcDef.n;\r\n            }\r\n\r\n            if (!api.hasOwnProperty(funcName))\r\n                // Member not in API\r\n                continue;\r\n\r\n            const m = api[funcName];\r\n            if (typeof m === 'function')\r\n                // This is a function, wrap in a promise\r\n                api[funcName] = promisify(m.bind(api), funcDef.cb);\r\n            else\r\n                // Sub-API, recurse this func with the mapped props\r\n                applyMap(m, funcDef.props);\r\n        }\r\n    }\r\n\r\n    /** Apply promise-maps to the Chrome native API.\r\n     * @param {object} apiMaps The API to apply. */\r\n    function applyMaps(apiMaps) {\r\n        for (let apiName in apiMaps) {\r\n            const callbackApi = chrome[apiName];\r\n            if (!callbackApi)\r\n                // Not supported by current permissions\r\n                continue;\r\n\r\n            const apiMap = apiMaps[apiName];\r\n            applyMap(callbackApi, apiMap);\r\n        }\r\n    }\r\n\r\n    // accessibilityFeatures https://developer.chrome.com/extensions/accessibilityFeatures\r\n    const knownA11ySetting = ['get', 'set', 'clear'];\r\n\r\n    // ContentSetting https://developer.chrome.com/extensions/contentSettings#type-ContentSetting\r\n    const knownInContentSetting = ['clear', 'get', 'set', 'getResourceIdentifiers'];\r\n\r\n    // StorageArea https://developer.chrome.com/extensions/storage#type-StorageArea\r\n    const knownInStorageArea = ['get', 'getBytesInUse', 'set', 'remove', 'clear'];\r\n\r\n    /** Map of API functions that follow the callback pattern that we can 'promisify' */\r\n    applyMaps({\r\n        accessibilityFeatures: [  // Todo: this should extend AccessibilityFeaturesSetting.prototype instead\r\n            { n: 'spokenFeedback', props: knownA11ySetting },\r\n            { n: 'largeCursor', props: knownA11ySetting },\r\n            { n: 'stickyKeys', props: knownA11ySetting },\r\n            { n: 'highContrast', props: knownA11ySetting },\r\n            { n: 'screenMagnifier', props: knownA11ySetting },\r\n            { n: 'autoclick', props: knownA11ySetting },\r\n            { n: 'virtualKeyboard', props: knownA11ySetting },\r\n            { n: 'animationPolicy', props: knownA11ySetting }],\r\n        alarms: ['get', 'getAll', 'clear', 'clearAll'],\r\n        bookmarks: [\r\n            'get', 'getChildren', 'getRecent', 'getTree', 'getSubTree',\r\n            'search', 'create', 'move', 'update', 'remove', 'removeTree'],\r\n        browser: ['openTab'],\r\n        browserAction: [\r\n            'getTitle', 'setIcon', 'getPopup', 'getBadgeText', 'getBadgeBackgroundColor'],\r\n        browsingData: [\r\n            'settings', 'remove', 'removeAppcache', 'removeCache',\r\n            'removeCookies', 'removeDownloads', 'removeFileSystems',\r\n            'removeFormData', 'removeHistory', 'removeIndexedDB',\r\n            'removeLocalStorage', 'removePluginData', 'removePasswords',\r\n            'removeWebSQL'],\r\n        commands: ['getAll'],\r\n        contentSettings: [  // Todo: this should extend ContentSetting.prototype instead\r\n            { n: 'cookies', props: knownInContentSetting },\r\n            { n: 'images', props: knownInContentSetting },\r\n            { n: 'javascript', props: knownInContentSetting },\r\n            { n: 'location', props: knownInContentSetting },\r\n            { n: 'plugins', props: knownInContentSetting },\r\n            { n: 'popups', props: knownInContentSetting },\r\n            { n: 'notifications', props: knownInContentSetting },\r\n            { n: 'fullscreen', props: knownInContentSetting },\r\n            { n: 'mouselock', props: knownInContentSetting },\r\n            { n: 'microphone', props: knownInContentSetting },\r\n            { n: 'camera', props: knownInContentSetting },\r\n            { n: 'unsandboxedPlugins', props: knownInContentSetting },\r\n            { n: 'automaticDownloads', props: knownInContentSetting }],\r\n        contextMenus: ['create', 'update', 'remove', 'removeAll'],\r\n        cookies: ['get', 'getAll', 'set', 'remove', 'getAllCookieStores'],\r\n        debugger: ['attach', 'detach', 'sendCommand', 'getTargets'],\r\n        desktopCapture: ['chooseDesktopMedia'],\r\n        // TODO: devtools.*\r\n        documentScan: ['scan'],\r\n        downloads: [\r\n            'download', 'search', 'pause', 'resume', 'cancel',\r\n            'getFileIcon', 'erase', 'removeFile', 'acceptDanger'],\r\n        enterprise: [{ n: 'platformKeys', props: ['getToken', 'getCertificates', 'importCertificate', 'removeCertificate'] }],\r\n        extension: ['isAllowedIncognitoAccess', 'isAllowedFileSchemeAccess'], // mostly deprecated in favour of runtime\r\n        fileBrowserHandler: ['selectFile'],\r\n        fileSystemProvider: ['mount', 'unmount', 'getAll', 'get', 'notify'],\r\n        fontSettings: [\r\n            'setDefaultFontSize', 'getFont', 'getDefaultFontSize', 'getMinimumFontSize',\r\n            'setMinimumFontSize', 'getDefaultFixedFontSize', 'clearDefaultFontSize',\r\n            'setDefaultFixedFontSize', 'clearFont', 'setFont', 'clearMinimumFontSize',\r\n            'getFontList', 'clearDefaultFixedFontSize'],\r\n        gcm: ['register', 'unregister', 'send'],\r\n        history: ['search', 'getVisits', 'addUrl', 'deleteUrl', 'deleteRange', 'deleteAll'],\r\n        i18n: ['getAcceptLanguages', 'detectLanguage'],\r\n        identity: [\r\n            'getAuthToken', 'getProfileUserInfo', 'removeCachedAuthToken', 'launchWebAuthFlow'],\r\n        idle: ['queryState'],\r\n        input: [{\r\n            n: 'ime', props: [\r\n                'setMenuItems', 'commitText', 'setCandidates', 'setComposition', 'updateMenuItems',\r\n                'setCandidateWindowProperties', 'clearComposition', 'setCursorPosition', 'sendKeyEvents',\r\n                'deleteSurroundingText']\r\n        }],\r\n        management: [\r\n            'setEnabled', 'getPermissionWarningsById', 'get', 'getAll',\r\n            'getPermissionWarningsByManifest', 'launchApp', 'uninstall', 'getSelf',\r\n            'uninstallSelf', 'createAppShortcut', 'setLaunchType', 'generateAppForLink'],\r\n        networking: [{ n: 'config', props: ['setNetworkFilter', 'finishAuthentication'] }],\r\n        notifications: ['create', 'update', 'clear', 'getAll', 'getPermissionLevel'],\r\n        pageAction: ['getTitle', 'setIcon', 'getPopup'],\r\n        pageCapture: ['saveAsMHTML'],\r\n        permissions: ['getAll', 'contains', 'request', 'remove'],\r\n        platformKeys: ['selectClientCertificates', 'verifyTLSServerCertificate',\r\n            { n: \"getKeyPair\", cb: (publicKey, privateKey) => { return { publicKey, privateKey }; } }],\r\n        runtime: [\r\n            'getBackgroundPage', 'openOptionsPage', 'setUninstallURL',\r\n            'restartAfterDelay', 'sendMessage',\r\n            'sendNativeMessage', 'getPlatformInfo', 'getPackageDirectoryEntry',\r\n            { n: \"requestUpdateCheck\", cb: (status, details) => { return { status, details }; } }],\r\n        scriptBadge: ['getPopup'],\r\n        sessions: ['getRecentlyClosed', 'getDevices', 'restore'],\r\n        storage: [          // Todo: this should extend StorageArea.prototype instead\r\n            { n: 'sync', props: knownInStorageArea },\r\n            { n: 'local', props: knownInStorageArea },\r\n            { n: 'managed', props: knownInStorageArea }],\r\n        socket: [\r\n            'create', 'connect', 'bind', 'read', 'write', 'recvFrom', 'sendTo',\r\n            'listen', 'accept', 'setKeepAlive', 'setNoDelay', 'getInfo', 'getNetworkList'],\r\n        sockets: [\r\n            { n: 'tcp', props: [\r\n                'create','update','setPaused','setKeepAlive','setNoDelay','connect',\r\n                'disconnect','secure','send','close','getInfo','getSockets'] },\r\n            { n: 'tcpServer', props: [\r\n                'create','update','setPaused','listen','disconnect','close','getInfo','getSockets'] }, \r\n            { n: 'udp', props: [\r\n                'create','update','setPaused','bind','send','close','getInfo',\r\n                'getSockets','joinGroup','leaveGroup','setMulticastTimeToLive',\r\n                'setMulticastLoopbackMode','getJoinedGroups','setBroadcast'] }],\r\n        system: [\r\n            { n: 'cpu', props: ['getInfo'] },\r\n            { n: 'memory', props: ['getInfo'] },\r\n            { n: 'storage', props: ['getInfo', 'ejectDevice', 'getAvailableCapacity'] }],\r\n        tabCapture: ['capture', 'getCapturedTabs'],\r\n        tabs: [\r\n            'get', 'getCurrent', 'sendMessage', 'create', 'duplicate',\r\n            'query', 'highlight', 'update', 'move', 'reload', 'remove',\r\n            'detectLanguage', 'captureVisibleTab', 'executeScript',\r\n            'insertCSS', 'setZoom', 'getZoom', 'setZoomSettings',\r\n            'getZoomSettings', 'discard'],\r\n        topSites: ['get'],\r\n        tts: ['isSpeaking', 'getVoices', 'speak'],\r\n        types: ['set', 'get', 'clear'],\r\n        vpnProvider: ['createConfig', 'destroyConfig', 'setParameters', 'sendPacket', 'notifyConnectionStateChanged'],\r\n        wallpaper: ['setWallpaper'],\r\n        webNavigation: ['getFrame', 'getAllFrames', 'handlerBehaviorChanged'],\r\n        windows: ['get', 'getCurrent', 'getLastFocused', 'getAll', 'create', 'update', 'remove']\r\n    });\r\n})();\r\n\n\n//# sourceURL=webpack:///../node_modules/chrome-extension-async/chrome-extension-async.js?");

/***/ }),

/***/ "./src/keys.ts":
/*!*********************!*\
  !*** ./src/keys.ts ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LoggingState;\n(function (LoggingState) {\n    LoggingState[LoggingState[\"Started\"] = 1] = \"Started\";\n    LoggingState[LoggingState[\"Stopped\"] = 2] = \"Stopped\";\n})(LoggingState = exports.LoggingState || (exports.LoggingState = {}));\nvar EventType;\n(function (EventType) {\n    EventType[\"Start\"] = \"loggingStart\";\n    EventType[\"Stop\"] = \"loggingStop\";\n})(EventType = exports.EventType || (exports.EventType = {}));\nexports.STATE_KEY = \"logging-state\";\nexports.EVENT_KEY = \"logging-event\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V5cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9rZXlzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBWSxZQUdYO0FBSEQsV0FBWSxZQUFZO0lBQ3BCLHFEQUFXLENBQUE7SUFDWCxxREFBTyxDQUFBO0FBQ1gsQ0FBQyxFQUhXLFlBQVksR0FBWixvQkFBWSxLQUFaLG9CQUFZLFFBR3ZCO0FBRUQsSUFBWSxTQUdYO0FBSEQsV0FBWSxTQUFTO0lBQ2pCLG1DQUFzQixDQUFBO0lBQ3RCLGlDQUFvQixDQUFBO0FBQ3hCLENBQUMsRUFIVyxTQUFTLEdBQVQsaUJBQVMsS0FBVCxpQkFBUyxRQUdwQjtBQUVZLFFBQUEsU0FBUyxHQUFHLGVBQWUsQ0FBQztBQUM1QixRQUFBLFNBQVMsR0FBRyxlQUFlLENBQUMifQ==\n\n//# sourceURL=webpack:///./src/keys.ts?");

/***/ }),

/***/ "./src/popup.ts":
/*!**********************!*\
  !*** ./src/popup.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__webpack_require__(/*! chrome-extension-async */ \"../node_modules/chrome-extension-async/chrome-extension-async.js\");\nvar keys_1 = __webpack_require__(/*! ./keys */ \"./src/keys.ts\");\nvar startLoggingButton = document.getElementById(\"startLogging\");\nvar stopLoggingButton = document.getElementById(\"stopLogging\");\nstartLoggingButton.onclick = function () {\n    startLogging().then();\n};\nstopLoggingButton.onclick = function () {\n    stopLogging().then();\n};\nfunction startLogging() {\n    return __awaiter(this, void 0, void 0, function () {\n        var _a, _b, result, tabs, url;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0: return [4, chrome.storage.local.get([keys_1.STATE_KEY])];\n                case 1:\n                    result = _c.sent();\n                    if (result[keys_1.STATE_KEY] && result[keys_1.STATE_KEY] === keys_1.LoggingState.Started) {\n                        console.log(\"already started\");\n                        return [2];\n                    }\n                    console.log(\"start logging\");\n                    return [4, chrome.tabs.query({ active: true, currentWindow: true })];\n                case 2:\n                    tabs = _c.sent();\n                    return [4, chrome.tabs.sendMessage(tabs[0].id, {\n                            type: keys_1.EventType.Start\n                        })];\n                case 3:\n                    _c.sent();\n                    url = tabs[0].url;\n                    return [4, chrome.storage.local.set((_a = {},\n                            _a[keys_1.EVENT_KEY] = {\n                                url: url,\n                                events: []\n                            },\n                            _a))];\n                case 4:\n                    _c.sent();\n                    return [4, chrome.storage.local.set((_b = {}, _b[keys_1.STATE_KEY] = keys_1.LoggingState.Started, _b))];\n                case 5:\n                    _c.sent();\n                    return [2];\n            }\n        });\n    });\n}\nfunction stopLogging() {\n    return __awaiter(this, void 0, void 0, function () {\n        var _a, result, tabs, response;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4, chrome.storage.local.get([keys_1.STATE_KEY])];\n                case 1:\n                    result = _b.sent();\n                    if (!result[keys_1.STATE_KEY] || result[keys_1.STATE_KEY] === keys_1.LoggingState.Stopped) {\n                        console.log(\"state is stopped\");\n                        return [2];\n                    }\n                    return [4, chrome.tabs.query({ active: true, currentWindow: true })];\n                case 2:\n                    tabs = _b.sent();\n                    return [4, chrome.tabs.sendMessage(tabs[0].id, {\n                            type: keys_1.EventType.Stop\n                        })];\n                case 3:\n                    response = _b.sent();\n                    download(response);\n                    return [4, chrome.storage.local.set((_a = {}, _a[keys_1.STATE_KEY] = keys_1.LoggingState.Stopped, _a))];\n                case 4:\n                    _b.sent();\n                    return [2];\n            }\n        });\n    });\n}\nfunction download(body) {\n    var atag = document.createElement(\"a\");\n    var blob = new Blob([body], { type: \"text/plain\" });\n    atag.href = URL.createObjectURL(blob);\n    atag.target = \"_blank\";\n    atag.download = \"pupperium.yaml\";\n    atag.click();\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9wdXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvcG9wdXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGtDQUFnQztBQUNoQywrQkFBdUU7QUFFdkUsSUFBTSxrQkFBa0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ25FLElBQU0saUJBQWlCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUVqRSxrQkFBa0IsQ0FBQyxPQUFPLEdBQUc7SUFDM0IsWUFBWSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDeEIsQ0FBQyxDQUFDO0FBRUYsaUJBQWlCLENBQUMsT0FBTyxHQUFHO0lBQzFCLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ3ZCLENBQUMsQ0FBQztBQUVGLFNBQWUsWUFBWTs7Ozs7d0JBQ1YsV0FBTSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxnQkFBUyxDQUFDLENBQUMsRUFBQTs7b0JBQXBELE1BQU0sR0FBRyxTQUEyQztvQkFDMUQsSUFBSSxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxnQkFBUyxDQUFDLEtBQUssbUJBQVksQ0FBQyxPQUFPLEVBQUU7d0JBQ25FLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQzt3QkFDL0IsV0FBTztxQkFDUjtvQkFFRCxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO29CQUNoQixXQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBQTs7b0JBQXJFLElBQUksR0FBRyxTQUE4RDtvQkFDM0UsV0FBTSxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFOzRCQUN4QyxJQUFJLEVBQUUsZ0JBQVMsQ0FBQyxLQUFLO3lCQUN0QixDQUFDLEVBQUE7O29CQUZGLFNBRUUsQ0FBQztvQkFFRyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztvQkFDeEIsV0FBTSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHOzRCQUM1QixHQUFDLGdCQUFTLElBQUc7Z0NBQ1gsR0FBRyxLQUFBO2dDQUNILE1BQU0sRUFBRSxFQUFFOzZCQUNYO2dDQUNELEVBQUE7O29CQUxGLFNBS0UsQ0FBQztvQkFFSCxXQUFNLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsV0FBRyxHQUFDLGdCQUFTLElBQUcsbUJBQVksQ0FBQyxPQUFPLE1BQUcsRUFBQTs7b0JBQXJFLFNBQXFFLENBQUM7Ozs7O0NBQ3ZFO0FBRUQsU0FBZSxXQUFXOzs7Ozt3QkFDVCxXQUFNLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLGdCQUFTLENBQUMsQ0FBQyxFQUFBOztvQkFBcEQsTUFBTSxHQUFHLFNBQTJDO29CQUMxRCxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFTLENBQUMsSUFBSSxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxLQUFLLG1CQUFZLENBQUMsT0FBTyxFQUFFO3dCQUNwRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUM7d0JBQ2hDLFdBQU87cUJBQ1I7b0JBQ1ksV0FBTSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUE7O29CQUFyRSxJQUFJLEdBQUcsU0FBOEQ7b0JBQzFELFdBQU0sTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTs0QkFDekQsSUFBSSxFQUFFLGdCQUFTLENBQUMsSUFBSTt5QkFDckIsQ0FBQyxFQUFBOztvQkFGSSxRQUFRLEdBQUcsU0FFZjtvQkFFRixRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBRW5CLFdBQU0sTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxXQUFHLEdBQUMsZ0JBQVMsSUFBRyxtQkFBWSxDQUFDLE9BQU8sTUFBRyxFQUFBOztvQkFBckUsU0FBcUUsQ0FBQzs7Ozs7Q0FDdkU7QUFFRCxTQUFTLFFBQVEsQ0FBQyxJQUFJO0lBQ3BCLElBQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekMsSUFBTSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDO0lBQ3RELElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0QyxJQUFJLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQztJQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLGdCQUFnQixDQUFDO0lBRWpDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUNmLENBQUMifQ==\n\n//# sourceURL=webpack:///./src/popup.ts?");

/***/ })

/******/ });